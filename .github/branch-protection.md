# 分支保护规则

## main 分支保护规则

为了确保代码质量，main 分支设置了以下保护规则：

### 必需的状态检查
- **quality-check** - CI 工作流必须通过

### 检查项目
1. **代码格式检查** (`npm run format:check`)
   - 使用 Prettier 检查代码格式
   - 所有代码必须符合项目格式规范

2. **ESLint 检查** (`npm run lint`)
   - 检查代码质量和潜在问题
   - 不允许有任何 ESLint 警告或错误

3. **安全审计** (`npm run audit`)
   - 检查依赖包的安全漏洞
   - 中危及以上级别的漏洞将阻止合并

4. **单元测试** (`npm run test`)
   - 所有测试必须通过
   - 测试覆盖率必须达到要求

### 规则说明
- 所有 Pull Request 必须通过上述所有检查
- 不允许直接推送到 main 分支
- 必须通过 Pull Request 进行代码审查
- 至少需要一名维护者批准才能合并

### 本地检查
在提交代码前，建议运行以下命令进行本地检查：
```bash
npm run ci
```

这将运行所有检查项目，确保代码符合要求。 